<!DOCTYPE html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Football Tycoon - Spill</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body class="spill-page">
    <div class="overlay">
      <div class="game-container">
        <div class="side tasks">
          <h2>Oppgaver</h2>
          <p id="task-text">Tjen 100 kr</p>
        </div>

        <div class="middle">
          <h1>Bygg din klubb til suksess!</h1>
          <button id="football">âš½</button>
        </div>

        <div class="side actions">
          <div class="stats">
            ðŸ’° <span id="money">0</span> kr <br />
            ðŸ‘¥ <span id="fans">0</span> fans
          </div>

          <button id="train-btn">Tren laget (-300 kr)</button>
          <button id="fans-btn">KjÃ¸p 50 fans (-500 kr)</button>
          <button id="match-btn">Spill kamp</button>

          <br /><br />
          <a href="index.html" class="back-button">Tilbake</a>
        </div>
      </div>
    </div>

    <script>
      let money = 0;
      let fans = 0;
      let trainings = 0;
      let wins = 0;
      let currentTask = 0;
      let autoClickerActive = false;
      let autoClickerInterval = null;

      const tasks = [
        { text: "Tjen 100 kr", condition: () => money >= 100 },
        { text: "Tren laget 3 ganger", condition: () => trainings >= 3 },
        { text: "FÃ¥ 200 fans", condition: () => fans >= 200 },
        { text: "Vinn 1 kamp", condition: () => wins >= 1 },
        { text: "Du har fullfÃ¸rt alle oppgaver!", condition: () => false },
      ];

      document.addEventListener("DOMContentLoaded", function () {
        const football = document.getElementById("football");
        const trainBtn = document.getElementById("train-btn");
        const fansBtn = document.getElementById("fans-btn");
        const matchBtn = document.getElementById("match-btn");

        football.addEventListener("click", clickBall);
        trainBtn.addEventListener("click", train);
        fansBtn.addEventListener("click", buyFans);
        matchBtn.addEventListener("click", playMatch);
      });

      function clickBall() {
        money += 1;
        checkAutoClicker();
        updateStats();
      }

      function train() {
        if (money >= 300) {
          money -= 300;
          trainings++;
          alert("Du trente laget!");
        } else {
          alert("Ikke nok penger!");
        }
        updateStats();
      }

      function buyFans() {
        if (money >= 500) {
          money -= 500;
          fans += 50;
          alert("Du kjÃ¸pte 50 fans!");
        } else {
          alert("Ikke nok penger!");
        }
        updateStats();
      }

      function playMatch() {
        const result = Math.random();
        if (result < 0.5) {
          money += 50;
          wins++;
          alert("Du vant kampen! +50 kr");
        } else {
          money -= 50;
          alert("Du tapte kampen. -50 kr");
        }
        checkAutoClicker();
        updateStats();
      }

      function checkAutoClicker() {
        if (money >= 50000 && !autoClickerActive) {
          autoClickerActive = true;
          alert("Auto-clicker lÃ¥st opp! Du tjener nÃ¥ penger automatisk!");
          autoClickerInterval = setInterval(() => {
            money += 1;
            updateStats();
          }, 1000);
        }
      }

      function updateStats() {
        document.getElementById("money").textContent = money;
        document.getElementById("fans").textContent = fans;

        if (currentTask < tasks.length - 1 && tasks[currentTask].condition()) {
          currentTask++;
          document.getElementById("task-text").textContent =
            tasks[currentTask].text;
        }
      }
    </script>
  </body>
</html>
